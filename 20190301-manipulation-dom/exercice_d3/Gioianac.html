<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      .bar-chart {
      background-color: #0FDAC1;
    }

    body {
      text-align: center;
      align-content: center;
      margin-top: 3rem;
    }
    </style>
  </head>
  <body>
    <h1>Exercice D3 â€“ 8 mars 2019</h1>
    <svg id="graph"></svg>
      
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script>
      const DATA = [
        { nom: 'Paul', note: 34 },
        { nom: 'Pauline', note: 98 },
        { nom: 'Pierre', note: 74 },
        { nom: 'Pierrette', note: 52 },
      ]
      const graph = d3.select('#graph')

      var svgWidth = 700;
      var svgHeight = 350;
      var svg = d3.select('svg')
        .attr("width", svgWidth)
        .attr("height", svgHeight)
        .attr("class", "bar-chart");

      var barPadding = 5;
      var barWidth = (svgWidth / DATA.length);
      var barChart = svg.selectAll("rect")
        .data(DATA)
        .enter()
        .append("rect")
        .attr("y", function(d) {
          return svgHeight - d.note -40
        })
        .attr("height", function(d) {
          return d.note;
        })
        .attr("width", barWidth - barPadding)
        .attr("transform", function (d, i) {
          var translate = [barWidth * i, 0];
 
        svg.selectAll('text')
          .data(DATA)
          .enter()
          .append('text')
          .attr('x', (d, i) => i * barWidth + barWidth / 2)
          .attr('y', svgHeight- 20)
          .attr('text-anchor', 'middle')
          .text(d => d.nom)
          
          return "translate("+ translate +")";
        });

    </script>
  </body>
</html>



